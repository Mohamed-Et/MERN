(this.webpackJsonpreform_front=this.webpackJsonpreform_front||[]).push([[0],{167:function(e,t,a){e.exports=a(370)},172:function(e,t,a){},370:function(e,t,a){"use strict";a.r(t);var n=a(1),l=a.n(n),r=a(12),o=a.n(r),c=(a(172),a(22)),s=a(375),m=a(29),i=a(18),u=a(163),d=a(164),E=Object(n.createContext)();function g(){return Object(n.useContext)(E)}var h=Object(n.createContext)();var p=a(165);var b=function(e){var t=e.component,a=Object(p.a)(e,["component"]),n=g().authTokens;return l.a.createElement(i.b,Object.assign({},a,{render:function(e){return n?l.a.createElement(t,e):l.a.createElement(i.a,{to:{pathname:"/login",state:{referer:e.location}}})}}))},f=a(8);function v(e){var t=Object(n.useState)(!1),a=Object(c.a)(t,2),r=a[0],o=a[1],s=Object(n.useState)("Logo"),m=Object(c.a)(s,1)[0];return l.a.createElement(f.s,{color:e.nvColor,dark:!0,expand:"md",className:"fixed-top"},l.a.createElement(f.t,null,l.a.createElement("strong",{className:"white-text"},m)),l.a.createElement(f.v,{onClick:function(){o(!r)}}),l.a.createElement(f.k,{id:"navbarCollapse3",isOpen:r,navbar:!0},l.a.createElement(f.u,{right:!0},l.a.createElement(f.q,{active:!0},l.a.createElement(f.r,{to:"/login"},"Login")))))}var j=a(61),O=a.n(j);function k(){var e=Object(n.useState)([{}]),t=Object(c.a)(e,2),a=(t[0],t[1]);return Object(n.useEffect)((function(){O.a.get("".concat("http://localhost:3002/","caroussel"),{}).then((function(e){console.log(e),a(e)}))})),l.a.createElement(f.l,null,l.a.createElement(f.f,{activeItem:1,length:3,showControls:!0,showIndicators:!0,className:"z-depth-1"},l.a.createElement(f.h,null,l.a.createElement(f.i,{itemId:"1"},l.a.createElement(f.C,null,l.a.createElement("img",{className:"d-block w-100",src:"https://mdbootstrap.com/img/Photos/Slides/img%20(68).jpg",alt:"First slide"}),l.a.createElement(f.p,{overlay:"black-light"})),l.a.createElement(f.g,null,l.a.createElement("h3",{className:"h3-responsive"},"Light mask"),l.a.createElement("p",null,"First text"))),l.a.createElement(f.i,{itemId:"2"},l.a.createElement(f.C,null,l.a.createElement("img",{className:"d-block w-100",src:"https://mdbootstrap.com/img/Photos/Slides/img%20(6).jpg",alt:"Second slide"}),l.a.createElement(f.p,{overlay:"black-strong"})),l.a.createElement(f.g,null,l.a.createElement("h3",{className:"h3-responsive"},"Strong mask"),l.a.createElement("p",null,"Second text"))),l.a.createElement(f.i,{itemId:"3"},l.a.createElement(f.C,null,l.a.createElement("img",{className:"d-block w-100",src:"https://mdbootstrap.com/img/Photos/Slides/img%20(9).jpg",alt:"Third slide"}),l.a.createElement(f.p,{overlay:"black-slight"})),l.a.createElement(f.g,null,l.a.createElement("h3",{className:"h3-responsive"},"Slight Mast"),l.a.createElement("p",null,"Third text"))))))}function w(){return l.a.createElement(n.Fragment,null,l.a.createElement(v,{nvColor:"indigo"}),l.a.createElement(f.l,{className:"mt-5 pt-2",fluid:!0},l.a.createElement(k,null)))}function N(e){var t=Object(n.useContext)(h).t;return l.a.createElement(f.d,{className:"my-5"},l.a.createElement(f.e,{className:"z-depth-2"},l.a.createElement("h3",{className:" dark-grey-text text-center"},l.a.createElement("strong",null,t("welcome"))),l.a.createElement("hr",null),e.error&&l.a.createElement(f.w,{style:{"max-width":"100%"},show:!0,fade:!0,iconClassName:"text-warning",title:"Error",message:e.message,text:""}),l.a.createElement("form",{className:"needs-validation",onSubmit:function(t){e.submitHandlerLogin(t)},noValidate:!0},l.a.createElement(f.o,{label:"Your email",icon:"envelope",name:"email",type:"email",value:e.email,required:!0,onChange:function(t){e.setEmail(t.target.value)}}),l.a.createElement(f.o,{value:e.password,label:"Your Password",icon:"key",name:"password",type:"password",required:!0,onChange:function(t){e.setPassword(t.target.value)}}),l.a.createElement("div",{className:"text-center mt-3 black-text"},l.a.createElement(f.c,{color:"indigo ",rounded:!0,type:"submit"},e.request&&l.a.createElement(f.m,{icon:"sync",spin:!0,size:"1x",fixed:!0,className:"mr-1"}),"Log In")))))}function S(){var e=Object(n.useState)(!1),t=Object(c.a)(e,2),a=t[0],r=t[1],o=Object(n.useState)(!1),s=Object(c.a)(o,2),m=s[0],u=s[1],d=Object(n.useState)(""),E=Object(c.a)(d,2),h=E[0],p=E[1],b=Object(n.useState)(""),j=Object(c.a)(b,2),k=j[0],w=j[1],S=Object(n.useState)(""),x=Object(c.a)(S,2),y=x[0],C=x[1],P=Object(n.useState)(!1),I=Object(c.a)(P,2),L=I[0],T=I[1],q=g().setAuthTokens;if(a)return l.a.createElement(i.a,{to:"/admin"});return l.a.createElement(n.Fragment,null,l.a.createElement(v,{nvColor:"indigo"}),l.a.createElement(f.l,{className:"mt-5 pt-5 "},l.a.createElement(f.z,{className:""},l.a.createElement(f.j,{className:"col-6 col-offset-3"},l.a.createElement(N,{submitHandlerLogin:function(e){e.preventDefault(),e.target.className+=" was-validated",e.target.reportValidity()?(T(!0),O.a.post("".concat("http://localhost:3002/","user/login"),{email:k,password:y}).then((function(e){200===e.status&&(q(e.data.token),r(!0))}),(function(e){console.log("error"),400===e.response.status?(C(""),u(!0),p("Incorrect login information. Please check your credentials and try again")):(u(!0),p("Please check and correct your input data."))})).then((function(){T(!1)}))):console.log("form not valide")},error:m,message:h,email:k,setEmail:w,setPassword:C,request:L})))))}function x(){return l.a.createElement(n.Fragment,null,l.a.createElement(v,{nvColor:"indigo"}),"Login")}u.a.use(d.a).init({lng:"en",fallbackLng:"en",preload:["en","fr"],ns:["translation"],defaultNS:"translation",backend:{loadPath:"http://localhost:3000/locales/en/translation.json"}});var y=function(e){var t=JSON.parse(localStorage.getItem("tokens")),a=Object(n.useState)(t),r=Object(c.a)(a,2),o=r[0],u=r[1],d=Object(s.a)().t;return l.a.createElement(h.Provider,{value:{t:d}},l.a.createElement(E.Provider,{value:{authTokens:o,setAuthTokens:function(e){localStorage.setItem("tokens",JSON.stringify(e)),u(e)}}},l.a.createElement(m.a,null,l.a.createElement(i.d,null,l.a.createElement(i.b,{exact:!0,path:"/",component:w}),l.a.createElement(i.b,{path:"/login",component:S}),l.a.createElement(b,{path:"/admin",component:x})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(367),a(368),a(369);o.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(y,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[167,1,2]]]);
//# sourceMappingURL=main.7daaec69.chunk.js.map